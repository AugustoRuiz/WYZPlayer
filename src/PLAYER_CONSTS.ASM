; CONSTANTES PARA EL PLAYER.

; DATOS POR CANAL:

; PUNTERO_CANAL                 EQU 0
; PUNTERO_BUFFER_DEC            EQU 2
; PUNTERO_PAUTA                 EQU 4
; PUNTERO_INICIO_PAUTA          EQU 6
; PUNTERO_POS_DEC               EQU 8
; PUNTERO_INICIO_DEC_CANAL      EQU 10
; REG_NOTA_CANAL                EQU 12
; VOL_INST_CANAL                EQU 13
; PUNTERO_LOOP_DEC_CANAL        EQU 14

; CANAL_STRUCT_SIZE             EQU 16

; EL DESARROLLADOR DEBE DECLARAR EL SIMBOLO WYZ_PLAYER_BUFFER, CON UN BUFFER DE
; TAMAÑO SUFICIENTE. (ver RAM.ASM)

HYBRID          EQU     WYZ_PLAYER_BUFFER   ;TEMPO HIBRIDO
                                            ;BIT 7 = HYBRID ON/OFF
                                            ;BIT 6 = ALTERNADOR

INTERR          EQU     HYBRID + 1          ;INTERRUPTORES 1=ON 0=OFF
                                            ;BIT 0=CARGA CANCION ON/OFF
                                            ;BIT 1=PLAYER ON/OFF
                                            ;BIT 2=EFECTOS ON/OFF
                                            ;BIT 3=SFX ON/OFF
                                            ;BIT 4=LOOP

SONG            EQU     INTERR + 1          ;DB NUM DE CANCION
TEMPO           EQU     SONG + 1            ;DB TEMPO
TTEMPO          EQU     TEMPO + 1           ;DB CONTADOR TEMPO

PUNTERO_A       EQU     TTEMPO + 1          ;DW PUNTERO DEL CANAL A
PUNTERO_B       EQU     PUNTERO_A + 2       ;DW PUNTERO DEL CANAL B
PUNTERO_C       EQU     PUNTERO_B + 2       ;DW PUNTERO DEL CANAL C

CANAL_A         EQU     PUNTERO_C + 2       ;DW DIRECION DE INICIO DE LA MUSICA A
CANAL_B         EQU     CANAL_A + 2         ;DW DIRECION DE INICIO DE LA MUSICA B
CANAL_C         EQU     CANAL_B + 2         ;DW DIRECION DE INICIO DE LA MUSICA C

PUNTERO_P_A     EQU     CANAL_C + 2         ;DW PUNTERO PAUTA CANAL A
PUNTERO_P_B     EQU     PUNTERO_P_A + 2     ;DW PUNTERO PAUTA CANAL B
PUNTERO_P_C     EQU     PUNTERO_P_B + 2     ;DW PUNTERO PAUTA CANAL C

PUNTERO_P_A0    EQU     PUNTERO_P_C + 2     ;DW INI PUNTERO PAUTA CANAL A
PUNTERO_P_B0    EQU     PUNTERO_P_A0 + 2    ;DW INI PUNTERO PAUTA CANAL B
PUNTERO_P_C0    EQU     PUNTERO_P_B0 + 2    ;DW INI PUNTERO PAUTA CANAL C

PUNTERO_P_DECA  EQU     PUNTERO_P_C0 + 2    ;DW PUNTERO DE INICIO DEL DECODER CANAL A
PUNTERO_P_DECB  EQU     PUNTERO_P_DECA + 2  ;DW PUNTERO DE INICIO DEL DECODER CANAL B
PUNTERO_P_DECC  EQU     PUNTERO_P_DECB + 2  ;DW PUNTERO DE INICIO DEL DECODER CANAL C

PUNTERO_DECA    EQU     PUNTERO_P_DECC + 2  ;DW PUNTERO DECODER CANAL A
PUNTERO_DECB    EQU     PUNTERO_DECA + 2    ;DW PUNTERO DECODER CANAL B
PUNTERO_DECC    EQU     PUNTERO_DECB + 2    ;DW PUNTERO DECODER CANAL C

REG_NOTA_A      EQU     PUNTERO_DECC + 2    ;DB REGISTRO DE LA NOTA EN EL CANAL A
VOL_INST_A      EQU     REG_NOTA_A + 1      ;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL A
REG_NOTA_B      EQU     VOL_INST_A + 1      ;DB REGISTRO DE LA NOTA EN EL CANAL B
VOL_INST_B      EQU     REG_NOTA_B + 1      ;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL B          ;VACIO
REG_NOTA_C      EQU     VOL_INST_B + 1      ;DB REGISTRO DE LA NOTA EN EL CANAL C
VOL_INST_C      EQU     REG_NOTA_C + 1      ;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL C

PUNTERO_L_DECA  EQU     VOL_INST_C + 1      ;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL A
PUNTERO_L_DECB  EQU     PUNTERO_L_DECA + 2  ;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL B
PUNTERO_L_DECC  EQU     PUNTERO_L_DECB + 2  ;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL C

;CANAL DE EFECTOS DE RITMO - ENMASCARA OTRO CANAL
PUNTERO_P       EQU     PUNTERO_L_DECC + 2  ;DW PUNTERO DEL CANAL EFECTOS
CANAL_P         EQU     PUNTERO_P + 2       ;DW DIRECION DE INICIO DE LOS EFECTOS
PUNTERO_P_DECP  EQU     CANAL_P + 2         ;DW PUNTERO DE INICIO DEL DECODER CANAL P
PUNTERO_DECP    EQU     PUNTERO_P_DECP + 2  ;DW PUNTERO DECODER CANAL P
PUNTERO_L_DECP  EQU     PUNTERO_DECP + 2    ;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL P
;SELECT_CANAL_P  EQU      WYZ_PLAYER_BUFFER + $36    ;DB SELECCION DE CANAL DE EFECTOS DE RITMO

SFX_L           EQU     PUNTERO_L_DECP + 2  ;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO BAJO
SFX_H           EQU     SFX_L + 2           ;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO ALTO
SFX_V           EQU     SFX_H + 2           ;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO VOLUMEN
SFX_MIX         EQU     SFX_V + 2           ;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO MIXER

;EFECTOS DE SONIDO
N_SONIDO        EQU     SFX_MIX + 2         ;DB NUMERO DE SONIDO
PUNTERO_SONIDO  EQU     N_SONIDO + 1        ;DW PUNTERO DEL SONIDO QUE SE REPRODUCE

; DB [13] BUFFERs DE REGISTROS DEL PSG 
; NOTA AUGUSTO: EL BUFFER ES REALMENTE DE 16 BYTES, 
; Y SE USAN 14 EN EL PLAYER. DOS BYTES RESERVADOS.
PSG_REG         EQU     PUNTERO_SONIDO + 2
PSG_REG_SEC     EQU     PSG_REG + 16
ENVOLVENTE      EQU     PSG_REG_SEC + 16    ; DB : FORMA DE LA ENVOLVENTE
                                            ; BIT 0  : FRECUENCIA CANAL ON/OFF
                                            ; BIT 1-2  : RATIO 
                                            ; BIT 3-3  : FORMA

ENVOLVENTE_BACK EQU     ENVOLVENTE + 1      ; DB:  BACKUP DE LA FORMA DE LA ENVOLENTE
BUFFER_DEC      EQU     ENVOLVENTE_BACK + 1 ; 128 BYTES. BUFFER DE DECODIFICACIÓN

; TAMAÑO TOTAL DEL BUFFER
WYZ_PLAYER_BUFFER_SIZE  EQU     BUFFER_DEC + 128 - WYZ_PLAYER_BUFFER
